<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Checkers 2000</title>
        <link rel="shortcut icon" type="image/jpg" href="../checkers2000/Assets/favicon.png"/>
        <link rel="stylesheet" href="style.css">
    <script type="text/javascript">
    


        var gameBoard = new Array();
        var blackX = -235;
        var blackY = -235;
        var redX = -235;
        var redY = 200;
        
        const state = {
            INITIAL: "initial",
            REDMOVE: "redmove",
            BLACKMOVE: "blackmove"
            
        }
        
        var boardImage = new Image();
        boardImage.src = "Assets/board.png";
        
        var redPiece = new Image();
        redPiece.src = "Assets/redPiece.png";
        
        var blackPiece = new Image();
        blackPiece.src = "Assets/blackPiece.png";

        var playAgainImage = new Image();
        playAgainImage.src = "Assets/playAgain.png";

        var redWinsImage = new Image();
        redWinsImage.src = "Assets/redWins.png";

        var blackWinsImage = new Image();
        blackWinsImage.src = "Assets/blackWins.png";

        var blackQuad = new Image();
        blackQuad.src = "Assets/blackQuad.png"

        //var audio = new Audio('Assets/checkersPiece.m4a');
        //audio.play();
        
        function initializeBoard() {
            for (var i = 0; i < 24; i+=2) {
                    gameBoard[i] = 0;
                    gameBoard[i+1] = 1;
                }
    
                for (var i = 63; i > 40; i-=2) {
                    gameBoard[i] = 2
                    gameBoard[i-1] = 0
                }
                console.log(gameBoard)
                draw();
                
            
            
        }
        
        
        function movePiece() {
            
        
        }
        
        
        
        function selectPiece() {
       
        }
        
        
        function drawPiece(index, color) {
            var canvas = document.getElementById('tutorial');
            if (canvas.getContext) {
                var ctx = canvas.getContext('2d');
            }
            
                if (color == 'black') {
                    ctx.drawImage(blackPiece,blackX,blackY);
                    blackX += 20;
                    blackY += 20;
            }

                else if (color == 'red') {
                    ctx.drawImage(redPiece,redX,redY);
                    redX += 20;
                    redY += 20;
            }
        }
        
        
        function getMousePosition(canvas, event) { 
            let rect = canvas.getBoundingClientRect(); 
            let x = event.clientX - rect.left; 
            let y = event.clientY - rect.top; 
            console.log("Coordinate x: " + x,  
                        "Coordinate y: " + y);
        }

        
        function draw() {
            var canvas = document.getElementById('tutorial');
            if (canvas.getContext) {
                var ctx = canvas.getContext('2d');
                ctx.drawImage(boardImage,0,0);
            }
                
            for (let i=0; i<gameBoard.length; i++) {
                if (gameBoard[i] == 1) {
                    var color = 'black'
                    drawPiece(gameBoard[i], color);
                }

                else if (gameBoard[i] == 2) {
                    color = 'red'
                    drawPiece(gameBoard[i], color);
                }
            }
        }

        window.onload = function() {
            initializeBoard();
            draw();
            let canvasElem = document.getElementById("tutorial"); 
            canvasElem.addEventListener("mousedown", function(evt) { 
                getMousePosition(canvasElem, evt);
            });
        }
    </script>
    <style>
        canvas { border: 20px solid black; }
    </style>
  </head>
  <body>
    <canvas id="tutorial" width="500" height="500"></canvas>
  </body>
</html>